(this["webpackJsonpbbb-playback"]=this["webpackJsonpbbb-playback"]||[]).push([[0],{110:function(e){e.exports=JSON.parse('{"button.about.aria":"\u062d\u0648\u0644","button.clear.aria":"\u0645\u0633\u062d \u0627\u0644\u0628\u062d\u062b","button.close.aria":"\u0625\u063a\u0644\u0627\u0642 \u0645\u0634\u0631\u0648\u0637","button.fullscreen.aria":"\u0645\u062d\u062a\u0648\u0649 \u0645\u0644\u0621 \u0627\u0644\u0634\u0627\u0634\u0629","button.restore.aria":"\u0627\u0633\u062a\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u062a\u0648\u0649","button.search.aria":"\u0628\u062d\u062b","button.section.aria":"\u0642\u0633\u0645 \u062c\u0627\u0646\u0628\u064a","button.swap.aria":"\u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0645\u0628\u0627\u062f\u0644\u0629","error.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u062e\u0637\u0623","loader.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0644\u0648\u062f\u0631","player.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0644\u0627\u0639\u0628","player.chat.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u062f\u0631\u062f\u0634\u0629","player.notes.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a","player.presentation.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0639\u0631\u0636","player.screenshare.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0645\u0634\u0627\u0631\u0643\u0629 \u0627\u0644\u0634\u0627\u0634\u0629","player.talkers.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u062a\u0643\u0644\u0645\u064a\u0646","player.thumbnails.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u0635\u063a\u0631\u0627\u062a","player.video.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0641\u064a\u062f\u064a\u0648"}')},111:function(e){e.exports=JSON.parse('{"button.about.aria":"\xdcber","button.clear.aria":"Saubere suche","button.close.aria":"Modal schlie\xdfen","button.fullscreen.aria":"Vollbildinhalt","button.restore.aria":"Inhalt wiederherstellen","button.search.aria":"Suche","button.section.aria":"Seitenteil","button.swap.aria":"Inhalte austauschen","error.wrapper.aria":"Fehlerbereich","loader.wrapper.aria":"Laderbereich","player.wrapper.aria":"Spielerbereich","player.chat.wrapper.aria":"Chat-Bereich","player.notes.wrapper.aria":"Notizenbereich","player.presentation.wrapper.aria":"Pr\xe4sentationsbereich","player.screenshare.wrapper.aria":"Screenshare-Bereich","player.talkers.wrapper.aria":"Sprecherbereich","player.thumbnails.wrapper.aria":"Miniaturansichten","player.video.wrapper.aria":"Videobereich"}')},112:function(e){e.exports=JSON.parse('{"button.about.aria":"About","button.clear.aria":"Clear search","button.close.aria":"Close modal","button.fullscreen.aria":"Fullscreen content","button.restore.aria":"Restore content","button.search.aria":"Search","button.section.aria":"Side section","button.swap.aria":"Swap content","error.wrapper.aria":"Error area","loader.wrapper.aria":"Loader area","player.wrapper.aria":"Player area","player.chat.wrapper.aria":"Chat area","player.notes.wrapper.aria":"Notes area","player.presentation.wrapper.aria":"Presentation area","player.screenshare.wrapper.aria":"Screenshare area","player.talkers.wrapper.aria":"Talkers area","player.thumbnails.wrapper.aria":"Thumbnails area","player.video.wrapper.aria":"Video area"}')},113:function(e){e.exports=JSON.parse('{"button.about.aria":"Acerca","button.clear.aria":"Borrar b\xfasqueda","button.close.aria":"Cerrar modal","button.fullscreen.aria":"Contenido de pantalla completa","button.restore.aria":"Restaurar contenido","button.search.aria":"Buscar","button.section.aria":"Secci\xf3n lateral","button.swap.aria":"Intercambiar contenido","error.wrapper.aria":"\xc1rea de error","loader.wrapper.aria":"\xc1rea del cargador","player.wrapper.aria":"\xc1rea de reproductor","player.chat.wrapper.aria":"\xc1rea de chat","player.notes.wrapper.aria":"\xc1rea de notas","player.presentation.wrapper.aria":"\xc1rea de presentaci\xf3n","player.screenshare.wrapper.aria":"\xc1rea de pantalla compartida","player.talkers.wrapper.aria":"\xc1rea de habladores","player.thumbnails.wrapper.aria":"\xc1rea de miniaturas","player.video.wrapper.aria":"\xc1rea de video"}')},114:function(e){e.exports=JSON.parse('{"button.about.aria":"\xc0 propos","button.clear.aria":"Effacer la recherche","button.close.aria":"Fermer modal","button.fullscreen.aria":"Contenu plein \xe9cran","button.restore.aria":"Restaurer le contenu","button.search.aria":"Chercher","button.section.aria":"Section lat\xe9rale","button.swap.aria":"Contenu d\'\xe9change","error.wrapper.aria":"Zone d\'erreur","loader.wrapper.aria":"Zone de chargement","player.wrapper.aria":"Zone de lecteur","player.chat.wrapper.aria":"Zone de chat","player.notes.wrapper.aria":"Zone de notes","player.presentation.wrapper.aria":"Zone de pr\xe9sentation","player.screenshare.wrapper.aria":"Zone de partage d\'\xe9cran","player.talkers.wrapper.aria":"Zone de causeurs","player.thumbnails.wrapper.aria":"Zone des miniatures","player.video.wrapper.aria":"Zone vid\xe9o"}')},115:function(e){e.exports=JSON.parse('{"button.about.aria":"Di","button.clear.aria":"Cancella ricerca","button.close.aria":"Chiudi modale","button.fullscreen.aria":"Contenuto a schermo intero","button.restore.aria":"Ripristina contenuto","button.search.aria":"Ricerca","button.section.aria":"Sezione laterale","button.swap.aria":"Scambia contenuto","error.wrapper.aria":"Area di errore","loader.wrapper.aria":"Area del caricatore","player.wrapper.aria":"Area del lettore","player.chat.wrapper.aria":"Area di chat","player.notes.wrapper.aria":"Area note","player.presentation.wrapper.aria":"Area di presentazione","player.screenshare.wrapper.aria":"Area di condivisione schermo","player.talkers.wrapper.aria":"Area di oratori","player.thumbnails.wrapper.aria":"Area miniature","player.video.wrapper.aria":"Area video"}')},116:function(e){e.exports=JSON.parse('{"button.about.aria":"\u7d04","button.clear.aria":"\u691c\u7d22\u3092\u30af\u30ea\u30a2","button.close.aria":"\u30e2\u30fc\u30c0\u30eb\u3092\u9589\u3058\u308b","button.fullscreen.aria":"\u5168\u753b\u9762\u30b3\u30f3\u30c6\u30f3\u30c4","button.restore.aria":"\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5fa9\u5143","button.search.aria":"\u63a2\u3059","button.section.aria":"\u30b5\u30a4\u30c9\u30bb\u30af\u30b7\u30e7\u30f3","button.swap.aria":"\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5165\u308c\u66ff\u3048","error.wrapper.aria":"\u30a8\u30e9\u30fc\u9818\u57df","loader.wrapper.aria":"\u30ed\u30fc\u30c0\u30fc\u30a8\u30ea\u30a2","player.wrapper.aria":"\u30d7\u30ec\u30a4\u30e4\u30fc\u30a8\u30ea\u30a2","player.chat.wrapper.aria":"\u30c1\u30e3\u30c3\u30c8\u30a8\u30ea\u30a2","player.notes.wrapper.aria":"\u30ce\u30fc\u30c8\u30a8\u30ea\u30a2","player.presentation.wrapper.aria":"\u30d7\u30ec\u30bc\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u30a8\u30ea\u30a2","player.screenshare.wrapper.aria":"\u753b\u9762\u5171\u6709\u30a8\u30ea\u30a2","player.talkers.wrapper.aria":"\u30c8\u30fc\u30ab\u30fc\u30a8\u30ea\u30a2","player.thumbnails.wrapper.aria":"\u30b5\u30e0\u30cd\u30a4\u30eb\u30a8\u30ea\u30a2","player.video.wrapper.aria":"\u30d3\u30c7\u30aa\u30a8\u30ea\u30a2"}')},117:function(e){e.exports=JSON.parse('{"button.about.aria":"Sobre","button.clear.aria":"Limpar busca","button.close.aria":"Fechar modal","button.fullscreen.aria":"Conte\xfado em tela cheia","button.restore.aria":"Restaurar conte\xfado","button.search.aria":"Buscar","button.section.aria":"Se\xe7\xe3o lateral","button.swap.aria":"Trocar conte\xfado","error.wrapper.aria":"\xc1rea do erro","loader.wrapper.aria":"\xc1rea do carregador","player.wrapper.aria":"\xc1rea do tocador","player.chat.wrapper.aria":"\xc1rea do chat","player.notes.wrapper.aria":"\xc1rea das notas","player.presentation.wrapper.aria":"\xc1rea da apresenta\xe7\xe3o","player.screenshare.wrapper.aria":"\xc1rea do compartilhamento de tela","player.talkers.wrapper.aria":"\xc1rea dos locutores","player.thumbnails.wrapper.aria":"\xc1rea das miniaturas","player.video.wrapper.aria":"\xc1rea do v\xeddeo"}')},118:function(e){e.exports=JSON.parse('{"button.about.aria":"\u041e\u043a\u043e\u043b\u043e","button.clear.aria":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a","button.close.aria":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435","button.fullscreen.aria":"\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","button.restore.aria":"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043d\u0442","button.search.aria":"\u041f\u043e\u0438\u0441\u043a","button.section.aria":"\u0411\u043e\u043a\u043e\u0432\u043e\u0439 \u0440\u0430\u0437\u0434\u0435\u043b","button.swap.aria":"\u041e\u0431\u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u043e\u043c","error.wrapper.aria":"\u041e\u0431\u043b\u0430\u0441\u0442\u044c \u043e\u0448\u0438\u0431\u043e\u043a","loader.wrapper.aria":"\u0417\u043e\u043d\u0430 \u043f\u043e\u0433\u0440\u0443\u0437\u0447\u0438\u043a\u0430","player.wrapper.aria":"\u0418\u0433\u0440\u043e\u0432\u0430\u044f \u0437\u043e\u043d\u0430","player.chat.wrapper.aria":"\u041e\u0431\u043b\u0430\u0441\u0442\u044c \u0447\u0430\u0442\u0430","player.notes.wrapper.aria":"\u041e\u0431\u043b\u0430\u0441\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043e\u043a","player.presentation.wrapper.aria":"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438","player.screenshare.wrapper.aria":"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u044d\u043a\u0440\u0430\u043d\u0430","player.talkers.wrapper.aria":"\u0417\u043e\u043d\u0430 \u0431\u0435\u0441\u0435\u0434\u044b","player.thumbnails.wrapper.aria":"\u041e\u0431\u043b\u0430\u0441\u0442\u044c \u043c\u0438\u043d\u0438\u0430\u0442\u044e\u0440","player.video.wrapper.aria":"\u041e\u0431\u043b\u0430\u0441\u0442\u044c \u0432\u0438\u0434\u0435\u043e"}')},124:function(e,t,a){e.exports=a(187)},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},172:function(e,t){},174:function(e,t){},186:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(101),s=a.n(i),o=a(72),l=a(7),c=a(8),u=a(11),p=a(10),d=a(12),h=a(26),m=a(5),f=a(73),v=a.n(f),y=a(102),b=a.n(y),g=new URLSearchParams(window.location.search),w=!!g&&g.has("debug"),k={info:function(){var e;return(e=console).info.apply(e,arguments)},debug:function(){var e;return w?(e=console).debug.apply(e,arguments):null},warn:function(){var e;return w?(e=console).warn.apply(e,arguments):null},error:function(){var e;return(e=console).error.apply(e,arguments)}},E="content",O="disabled",N="media",j="about",x="alternates",S="captions",C="chat",I="cursor",T="error",A="loader",P="metadata",M="notes",B="panzooms",D="player",R="presentation",_="screenshare",U="search",F="shapes",L="talkers",z="thumbnails",H="video",J=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen"],Z=function(e,t){return t},W=function(e){var t=b()(e)%J.length;return"avatar-".concat(J[t])},K=function(e){var t=!0;switch(e){case O:t=!1}return t},Q=function(e,t){if(ie(e))return-1;for(var a=0,r=e.length-1,n=Math.floor((a+r)/2);!ne(e,n,t)&&a<r;){var i=e[n];if(!te(i,"timestamp"))return-1;ce(t,i.timestamp)?a=n+1:r=n-1,n=Math.floor((a+r)/2)}return ne(e,n,t)?n:-1},V=function(e,t){var a=m.files.data[t];switch(t){case x:case S:case C:case I:case M:case B:case _:case L:return a&&null!==e[$(a)]?e[$(a)]:[];case P:return a&&null!==e[$(a)]?e[$(a)]:(k.error("missing",t),{});case F:return a&&null!==e[$(a)]?e[$(a)]:{canvases:[],slides:[],thumbnails:[]};default:return k.debug("unhandled",t),[]}},$=function(e){return e.split(".").shift()},Y=function(e){return e.split(".").pop()},q=function(e){var t=!0;switch(e){case E:case N:t=!1}return t},X=function(e){var t=!1;switch(e){case E:t=!1;break;case N:t=!0}return t},G=function(e,t){return!(e<0)&&(!ie(t)&&(!(e>=t.length)||(k.error("out of bounds",e,t),!1)))},ee=function(e){if(ie(e))return!1;for(var t=0;t<e.length;t++){if(e[t].src.includes("slide"))return!0}return!1},te=function(e,t){return!(!e||!e.hasOwnProperty(t)||"undefined"===typeof e[t])||(k.warn("missing",t,e),!1)},ae=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=he(e,a),n=ce(e,t);return n&&!r},re=function(e,t){var a;switch(e){case E:a=!t;break;case N:a=t;break;default:a=!1}return a},ne=function(e,t,a){if(!G(t,e))return!1;var r=e[t];if(!te(r,"timestamp"))return!1;var n=!1;if(ce(a,r.timestamp))if(t+1<e.length){var i=e[t+1];te(i,"timestamp")&&(n=!ce(a,i.timestamp))}else n=!0;return n},ie=function(e){var t=le("array",e),a=le("string",e);return!t&&!a||0===e.length},se=function(e,t){if(ie(e))return!1;for(var a=0;a<e.length;a++){var r=e[a];if(!te(r,"timestamp")||!te(r,"clear"))return!1;var n=r.clear,i=r.timestamp;if(ae(t,i,n))return!0;if(!ce(t,i))return!1}return!1},oe=function(e,t,a){var r=!1;switch(a){case"array":return e.length===t.length&&(r=e.every((function(e,a){return e===t[a]}))),r;default:return r}},le=function(e,t){var a=!1;switch(e){case"array":Array.isArray(t)&&(a=!0);break;case"string":typeof t===e&&(a=!0);break;default:k.debug("unhandled",e)}return a},ce=function(e,t){return t<=e},ue=function(e){for(var t=[/^(\d+)h(\d+)m(\d+)s$/,/^(\d+)m(\d+)s$/,/^(\d+)s$/],a=0;a<t.length;a++)if(e.match(t[a])){var r=e.match(/(\d+)h/),n=e.match(/(\d+)m/),i=e.match(/(\d+)s/),s=0;if(r){var o=parseInt(r[1]);o>=0&&(s+=3600*o)}if(n){var l=parseInt(n[1]);if(!(l>=0&&l<60))return null;s+=60*l}if(i){var c=parseInt(i[1]);if(!(c>=0&&c<60))return null;s+=c}return s}return null},pe=function(e,t){if(e.video){var a=e.video.duration(),r=e.video.currentTime()+t;r<0?e.video.currentTime(0):r>a?e.video.currentTime(a):e.video.currentTime(r)}},de=function(e,t,a){var r=t.length-1,n=e.video.currentTime(),i=Q(t,n);if(-1===i)return null;var s,o=i+a;"undefined"!==typeof(s=o<0?t[0].timestamp:o>r?t[r].timestamp:t[o].timestamp)&&e.video.currentTime(s)},he=function(e,t){return-1!==t&&t<=e},me=(a(51),Object(d.c)({aria:{id:"error.wrapper.aria",description:"Aria label for the error wrapper"}}));function fe(e){var t=e.code,a=e.intl;return n.a.createElement("div",{"aria-label":a.formatMessage(me.aria),className:"error-wrapper",id:T},n.a.createElement("div",{className:"error-code"},t))}var ve=a(32),ye=a(13),be=a.n(ye),ge=(a(132),{active:!1,circle:!1,disabled:!1,type:"default"}),we=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.active,a=e.aria,r=e.circle,i=e.disabled,s=e.handleOnClick,o=e.icon,l=e.type;if(!s)return null;var c="ghost"===l,u="solid"===l,p={default:!c&&!u&&!i,ghost:c&&!t&&!i,solid:(u||t)&&!i,circle:r,disabled:i};return n.a.createElement("div",{className:"button-wrapper"},n.a.createElement("button",{"aria-label":a,className:be()("button",p),disabled:i,onClick:function(){return s()}},n.a.createElement("span",{className:"icon-".concat(o)})))}}]),a}(r.PureComponent);we.defaultProps=ge;var ke=we,Ee=(a(133),Object(d.c)({close:{id:"button.close.aria",description:"Aria label for the close button"}})),Oe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.intl,r=e.onClose;return n.a.createElement("div",{className:"modal-wrapper"},n.a.createElement("div",{className:"modal"},n.a.createElement("div",{className:"modal-control"},n.a.createElement(ke,{aria:a.formatMessage(Ee.close),circle:!0,handleOnClick:r,icon:"close"})),n.a.createElement("div",{className:"modal-content"},t)))}}]),a}(r.PureComponent),Ne=(a(134),Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_NO_ROUTER:"1"}).REACT_APP_BBB_PLAYBACK_BUILD),je=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"renderItem",value:function(e,t){var a;if("boolean"===typeof t){var r=t?"icon-check":"icon-close";a=n.a.createElement("div",{className:be()(r,{green:t,red:!t})})}else a=t;return n.a.createElement("div",{className:"item"},n.a.createElement("div",{className:"icon-".concat(e)}),n.a.createElement("div",{className:"value"},a))}},{key:"renderBody",value:function(e){var t=this.props.content,a=t.captions,r=t.chat,i=t.notes,s=t.presentation,o=t.screenshare;return n.a.createElement("div",{className:"about-body"},this.renderItem("users",e.participants),this.renderItem("presentation",s),this.renderItem("chat",r),this.renderItem("notes",i),this.renderItem("screenshare",o),this.renderItem("captions",a))}},{key:"renderHeader",value:function(e){var t=e.end,a=e.name,r=e.start,i=[];return i.push(n.a.createElement(d.a,{value:new Date(r),day:"numeric",month:"long",year:"numeric"})),i.push(n.a.createElement(d.b,{value:new Date(r)})),i.push(n.a.createElement(d.b,{value:new Date(t)})),n.a.createElement("div",{className:"about-header"},n.a.createElement("div",{className:"title"},a),n.a.createElement("div",{className:"subtitle"},i.map((function(e){return n.a.createElement("div",{className:"item"},e)}))))}},{key:"renderFooter",value:function(){return n.a.createElement("div",{className:"about-footer"},Ne?this.renderItem("settings",Ne):null)}},{key:"render",value:function(){var e=this.props,t=e.intl,a=e.metadata,r=e.toggleModal;return n.a.createElement(Oe,{intl:t,onClose:r},this.renderHeader(a),this.renderBody(a),this.renderFooter())}}]),a}(r.PureComponent),xe=a(104),Se=a.n(xe),Ce=(a(141),function(e){var t=e.initials,a=e.name;return n.a.createElement("div",{className:"avatar-wrapper"},n.a.createElement("div",{className:be()("avatar",W(a))},n.a.createElement("span",{className:"initials"},t)))}),Ie=(a(85),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e){return this.props.active!==e.active}},{key:"renderAvatar",value:function(e,t){var a=this.props,r=a.initials,i=a.onClick;return n.a.createElement("div",{className:be()("interactive",{inactive:!e}),onClick:i,onKeyPress:function(e){return"Enter"===e.key?i():null},tabIndex:"0"},n.a.createElement(Ce,{active:e,initials:r,name:t}))}},{key:"renderHyperlink",value:function(e,t){var a={className:be()("linkified",{inactive:!e})};return n.a.createElement(Se.a,{options:a},t)}},{key:"renderContent",value:function(e,t){var a=this.props,r=a.hyperlink,i=a.text,s=function(e){return 1e3*e}(a.timestamp);return n.a.createElement("div",{className:"data"},n.a.createElement("div",{className:"info"},n.a.createElement("div",{className:be()("name",{inactive:!e})},t),n.a.createElement("div",{className:be()("time",{inactive:!e})},n.a.createElement(d.b,{hourCycle:"h23",hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC",value:s}))),n.a.createElement("div",{className:be()("text",{inactive:!e})},r?this.renderHyperlink(e,i):i))}},{key:"render",value:function(){var e=this.props,t=e.active,a=e.name;return n.a.createElement("div",{className:"message"},this.renderAvatar(t,a),this.renderContent(t,a))}}]),a}(r.Component)),Te=Object(d.c)({aria:{id:"player.chat.wrapper.aria",description:"Aria label for the chat wrapper"}}),Ae=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.handleAutoScroll()}},{key:"shouldComponentUpdate",value:function(e){return this.props.currentDataIndex!==e.currentDataIndex}},{key:"componentDidUpdate",value:function(){this.handleAutoScroll()}},{key:"handleAutoScroll",value:function(){m.chat.scroll&&(this.firstNode&&this.currentNode&&(this.currentNode.parentNode.scrollTop=function(e,t,a){if(!t)return 0;var r=t.clientHeight,n=t.offsetTop,i=t.parentNode;if(!e||!i)return 0;var s=e.offsetTop,o=i.clientHeight,l=0;switch(a){case"top":l=n-s;break;case"middle":l=parseInt(n+(r-s-o)/2,10);break;case"bottom":l=n+r-o;break;default:k.debug("unhandled",a)}return l}(this.firstNode,this.currentNode,m.chat.align)))}},{key:"handleOnClick",value:function(e){var t=this.props.player;if(!t)return null;t.currentTime(e)}},{key:"setRef",value:function(e,t){var a=this.props.currentDataIndex;0===t&&(this.firstNode=e),t===a&&(this.currentNode=e)}},{key:"renderMessages",value:function(){var e=this,t=this.props,a=t.chat,r=t.currentDataIndex;return a.map((function(t,a){var i=t.hyperlink,s=t.initials,o=t.message,l=t.name,c=t.timestamp,u=a<=r;return n.a.createElement("span",{ref:function(t){return e.setRef(t,a)}},n.a.createElement(Ie,{active:u,hyperlink:i,initials:s,name:l,onClick:function(){return e.handleOnClick(c)},text:o,timestamp:c}))}))}},{key:"render",value:function(){var e=this.props.intl;return n.a.createElement("div",{"aria-label":e.formatMessage(Te.aria),"aria-live":"polite",className:"chat-wrapper",id:C,tabIndex:"0"},n.a.createElement("div",{className:"list"},n.a.createElement("div",{className:"message-wrapper"},this.renderMessages())))}}]),a}(r.Component),Pe=(a(142),Object(d.c)({aria:{id:"player.notes.wrapper.aria",description:"Aria label for the notes wrapper"}})),Me=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.intl,a=e.notes;return n.a.createElement("div",{"aria-label":t.formatMessage(Pe.aria),className:"notes-wrapper",id:M,tabIndex:"0"},n.a.createElement("div",{className:"notes"},n.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})))}}]),a}(r.PureComponent),Be=(a(40),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y;return-1===t||-1===a?null:n.a.createElement("circle",{className:"cursor",style:{cx:t,cy:a}})}}]),a}(r.PureComponent)),De=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(l.a)(this,a),r=t.call(this,e);var n=e.metadata;return r.recordId=n.id,r}return Object(c.a)(a,[{key:"getProxy",value:function(e,t,a){var r=this.props.thumbnails.find((function(t){return e===t.id}));if(!r)return null;var i=r.alt,s=r.src;if("deskshare"===s)return null;var o=s.includes("logo");return n.a.createElement("foreignObject",{height:t,x:0,width:a,y:0},n.a.createElement("img",{alt:i,className:be()("proxy",{logo:o}),src:Z(this.recordId,s)}))}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.slides.find((function(e){return t===e.id}));if(!a)return null;var r=a.height,i=a.src,s=a.width;return n.a.createElement("g",null,this.getProxy(t,r,s),n.a.createElement("image",{height:r,href:Z(this.recordId,i),x:0,width:s,y:0}))}}]),a}(r.PureComponent),Re=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(l.a)(this,a),r=t.call(this,e);var n=e.metadata;return r.recordId=n.id,r}return Object(c.a)(a,[{key:"renderPolyline",value:function(e,t){return n.a.createElement("polyline",{style:e,points:t.points})}},{key:"renderLine",value:function(e,t){return n.a.createElement("line",{style:e,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2})}},{key:"renderPolygon",value:function(e,t){return n.a.createElement("polygon",{style:e,points:t.points})}},{key:"renderPath",value:function(e,t){return n.a.createElement("path",{style:e,d:t.d})}},{key:"renderCircle",value:function(e,t){return n.a.createElement("circle",{style:e,cx:t.cx,cy:t.cy,r:t.r})}},{key:"renderText",value:function(e,t){return n.a.createElement("foreignObject",{style:e,height:t.height,width:t.width,x:t.x,y:t.y},n.a.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml"},t.text.split("\r").map((function(e){return n.a.createElement("span",null,e,n.a.createElement("br",null))}))))}},{key:"renderPoll",value:function(e,t){var a=t.image,r=t.rect;return n.a.createElement("g",{style:e},n.a.createElement("rect",{fill:r.fill,height:r.height,stroke:r.stroke,strokeWidth:r["stroke-width"],width:r.width,x:r.x,y:r.y}),n.a.createElement("image",{height:a.height,transform:a.transform,width:a.width,x:a.x,href:Z(this.recordId,a["xlink:href"]),y:a.y}))}},{key:"renderCanvas",value:function(e){for(var t=this.props.draws,a=[],r=0;r<e.length;r++)if(e[r]){var n=t[r],i=n.id,s=n.shape,o=n.style,l=r+1,c=!1;if(l<e.length&&(c=t[l].id===i),!c){var u=s.data;switch(s.type){case"poll":a.push(this.renderPoll(o,u));break;case"polyline":a.push(this.renderPolyline(o,u));break;case"line":a.push(this.renderLine(o,u));break;case"polygon":a.push(this.renderPolygon(o,u));break;case"path":a.push(this.renderPath(o,u));break;case"circle":a.push(this.renderCircle(o,u));break;case"text":a.push(this.renderText(o,u))}}}return a}},{key:"render",value:function(){var e=this.props.drawsInterval;return 0===e.length?null:n.a.createElement("g",null,this.renderCanvas(e))}}]),a}(r.PureComponent),_e=Object(d.c)({aria:{id:"player.presentation.wrapper.aria",description:"Aria label for the presentation wrapper"}}),Ue=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"getSlideId",value:function(){var e=this.props,t=e.currentSlideIndex,a=e.slides;return-1===t?-1:a[t].id}},{key:"getViewBox",value:function(){var e=this.props,t=e.currentPanzoomIndex,a=e.panzooms;if(-1===t)return{height:0,x:0,width:0,y:0};var r=a[t];return{height:r.height,x:r.x,width:r.width,y:r.y}}},{key:"buildViewBoxAttr",value:function(e){var t=e.height,a=e.x,r=e.width,n=e.y;return"".concat(a," ").concat(n," ").concat(r," ").concat(t)}},{key:"getCursor",value:function(e){var t=this.props,a=t.currentCursorIndex,r=t.cursor,n={x:-1,y:-1};if(-1===a)return n;var i=r[a];return-1===i.x&&-1===i.y?n:{x:e.x+i.x*e.width,y:e.y+i.y*e.height}}},{key:"render",value:function(){var e=this.props,t=e.active,a=e.draws,r=e.drawsInterval,i=e.intl,s=e.metadata,o=e.slides,l=e.thumbnails,c=this.getSlideId(),u=this.getViewBox(),p=this.getCursor(u),d=c;return n.a.createElement("div",{"aria-label":i.formatMessage(_e.aria),className:be()("presentation-wrapper",{inactive:!t}),id:R},n.a.createElement("div",{className:"presentation"},n.a.createElement("svg",{viewBox:this.buildViewBoxAttr(u),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"viewBox"},n.a.createElement("rect",{height:u.height,x:u.x,width:u.width,y:u.y}))),n.a.createElement("g",{clipPath:"url(#viewBox)"},n.a.createElement(De,{id:c,metadata:s,slides:o,thumbnails:l}),n.a.createElement(Re,{draws:a,drawsInterval:r,id:d,metadata:s}),n.a.createElement(Be,{x:p.x,y:p.y})))))}}]),a}(r.PureComponent),Fe=(a(143),Object(d.c)({aria:{id:"player.thumbnails.wrapper.aria",description:"Aria label for the thumbnails wrapper"},clear:{id:"button.clear.aria",description:"Aria label for the clear button"}})),Le=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(l.a)(this,a),r=t.call(this,e);var n=e.metadata;return r.recordId=n.id,r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.handleAutoScroll()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,a=t.currentDataIndex,r=t.search;return a!==e.currentDataIndex||!oe(r,e.search)}},{key:"componentDidUpdate",value:function(){this.handleAutoScroll()}},{key:"handleOnClick",value:function(e){var t=this.props.player;if(!t)return null;t.currentTime(e)}},{key:"handleAutoScroll",value:function(){m.thumbnails.scroll&&(this.firstNode&&this.currentNode&&(this.currentNode.parentNode.scrollLeft=function(e,t,a){if(!t)return 0;var r=t.clientWidth,n=t.offsetLeft,i=t.parentNode;if(!e||!i)return 0;var s=e.offsetLeft,o=i.clientWidth,l=0;switch(a){case"left":l=n-s;break;case"center":l=parseInt(n+(r-s-o)/2,10);break;case"right":l=n+r-o;break;default:k.debug("unhandled",a)}return l}(this.firstNode,this.currentNode,m.thumbnails.align)))}},{key:"setRef",value:function(e,t){var a=this.props.currentDataIndex;0===t&&(this.firstNode=e),t===a&&(this.currentNode=e)}},{key:"isFiltered",value:function(e){var t=this.props,a=t.interactive,r=t.search;return a?!ie(r)&&!r.includes(e):!r.includes(e)}},{key:"renderImage",value:function(e){var t=e.alt,a=e.src,r="deskshare"===a;return r?n.a.createElement("div",{className:be()("thumbnail-image",{screenshare:r})},n.a.createElement("span",{className:"icon-screenshare"})):n.a.createElement("img",{alt:t,className:"thumbnail-image",src:Z(this.recordId,a)})}},{key:"renderThumbnail",value:function(e,t){var a=this,r=this.props,i=r.currentDataIndex,s=r.interactive;if(!s)return n.a.createElement("div",{className:"thumbnail-wrapper",tabIndex:"0"},n.a.createElement("div",{className:"thumbnail"},this.renderImage(e),n.a.createElement("div",{className:"thumbnail-index"},t+1)));var o=function(){return a.handleOnClick(e.timestamp)},l={active:t===i,interactive:s};return n.a.createElement("div",{className:be()("thumbnail-wrapper",l),onClick:o,onKeyPress:function(e){return"Enter"===e.key?o():null},ref:function(e){return a.setRef(e,t)},tabIndex:"0"},n.a.createElement("div",{className:"thumbnail"},this.renderImage(e),n.a.createElement("div",{className:"thumbnail-index"},t+1)))}},{key:"renderThumbnails",value:function(){var e=this;return this.props.thumbnails.reduce((function(t,a,r){return e.isFiltered(r)||t.push(e.renderThumbnail(a,r)),t}),[])}},{key:"renderClearButton",value:function(){if(!this.props.interactive)return null;var e=this.props.search;if(ie(e))return null;var t=this.props,a=t.handleSearch,r=t.intl;return n.a.createElement("div",{className:"clear-button"},n.a.createElement(ke,{aria:r.formatMessage(Fe.clear),handleOnClick:function(){return a?a([]):null},icon:"close",type:"solid"}))}},{key:"render",value:function(){var e=this.props.intl;return n.a.createElement("div",{"aria-label":e.formatMessage(Fe.aria),className:"thumbnails-wrapper",id:z,tabIndex:"0"},this.renderThumbnails(),this.renderClearButton())}}]),a}(r.Component),ze=(a(144),Object(d.c)({search:{id:"player.search.aria",description:"Aria label for the search button"}})),He=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={disabled:!0,search:[]},r}return Object(c.a)(a,[{key:"handleOnChange",value:function(e){if(!e||!e.target)return null;var t=e.target.value;if(t){var a=t.length<m.search.length.min;if(a)ie(this.state.search)||this.setState({search:[]});else{var r=function(e,t){var a=[],r=e.toLowerCase();return t.forEach((function(e,t){-1!==e.alt.toLowerCase().indexOf(r)&&a.push(t)})),a}(t,this.props.thumbnails);oe(this.state.search,r,"array")||this.setState({search:r})}this.state.disabled!==a&&this.setState({disabled:a})}}},{key:"handleOnClick",value:function(e){var t=this.props,a=t.handleSearch,r=t.toggleModal;a(this.state.search),r()}},{key:"renderBody",value:function(){var e=this,t=this.props,a=t.intl,r=t.metadata,i=t.thumbnails,s=this.state.search;return n.a.createElement("div",{className:"search-body"},n.a.createElement("input",{maxLength:m.search.length.max,minLength:m.search.length.min,onChange:function(t){return e.handleOnChange(t)},type:"text"}),n.a.createElement("div",{className:be()("result",{active:!0})},n.a.createElement(Le,{currentDataIndex:0,handleSearch:null,interactive:!1,intl:a,metadata:r,player:null,search:s,thumbnails:i})))}},{key:"renderFooter",value:function(){var e=this,t=this.props.intl,a=this.state.disabled;return n.a.createElement("div",{className:"search-footer"},n.a.createElement(ke,{aria:t.formatMessage(ze.search),disabled:a,handleOnClick:function(t){return e.handleOnClick(t)},icon:"search",type:"solid"}))}},{key:"render",value:function(){var e=this.props,t=e.intl,a=e.toggleModal;return n.a.createElement(Oe,{intl:t,onClose:a},this.renderBody(),this.renderFooter())}}]),a}(r.PureComponent),Je=a(48),Ze=(a(155),Object(d.c)({aria:{id:"player.screenshare.wrapper.aria",description:"Aria label for the screenshare wrapper"}})),We=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(l.a)(this,a),r=t.call(this,e);var n=e.media,i=e.metadata,s=[{src:Z(i.id,"deskshare/deskshare.mp4"),type:"video/mp4"},{src:Z(i.id,"deskshare/deskshare.webm"),type:"video/webm"}].filter((function(e){var t=e.type;return n.find((function(e){return t.includes(e)}))}));return r.options={controls:!1,fill:!0,sources:s},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.player=Object(Je.a)(this.node,this.options,(function(){var t=e.props.onPlayerReady;t&&t(_,e.player)}))}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this,t=this.props,a=t.active,r=t.intl;return n.a.createElement("div",{"aria-label":r.formatMessage(Ze.aria),className:be()("screenshare-wrapper",{inactive:!a}),id:_},n.a.createElement("div",{"data-vjs-player":!0},n.a.createElement("video",{className:"video-js",playsInline:!0,preload:"auto",ref:function(t){return e.node=t}})))}}]),a}(r.PureComponent),Ke=(a(156),Object(d.c)({aria:{id:"player.talkers.wrapper.aria",description:"Aria label for the talkers wrapper"}})),Qe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"renderTalkers",value:function(e){return n.a.createElement("div",{className:"talkers"},e.map((function(e){var t=e.active,a=e.initials,r=e.name;return n.a.createElement("div",{className:be()("talker",{inactive:!t})},n.a.createElement(Ce,{initials:a,name:r}))})))}},{key:"render",value:function(){var e=this.props,t=e.intl,a=e.talkers;return ie(a)?null:n.a.createElement("div",{"aria-label":t.formatMessage(Ke.aria),className:"talkers-wrapper",id:L,tabIndex:"0"},this.renderTalkers(a))}}]),a}(r.PureComponent),Ve=(a(157),Object(d.c)({aria:{id:"player.video.wrapper.aria",description:"Aria label for the video wrapper"}})),$e=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(l.a)(this,a),r=t.call(this,e);var n=e.captions,i=e.media,s=e.metadata,o=[{src:Z(s.id,"video/webcams.mp4"),type:"video/mp4"},{src:Z(s.id,"video/webcams.webm"),type:"video/webm"}].filter((function(e){var t=e.type;return i.find((function(e){return t.includes(e)}))})),c=n.map((function(e){var t=e.locale,a=e.localeName;return{kind:"captions",src:Z(s.id,"caption_".concat(t,".vtt")),srclang:t,label:a}}));return r.options={controlBar:{fullscreenToggle:!1,pictureInPictureToggle:!1,volumePanel:{inline:!1,vertical:!0}},controls:!0,fill:!0,inactivityTimeout:0,playbackRates:m.video.rates,sources:o,tracks:c},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.player=Object(Je.a)(this.node,this.options,(function(){var t=e.props,a=t.onPlayerReady,r=t.onTimeUpdate,n=t.time;r&&(e.player.on("play",(function(){setInterval((function(){var t=e.player.currentTime();r(t)}),1e3/m.video.fps)})),e.player.on("pause",(function(){return clearInterval()}))),n&&e.player.on("loadedmetadata",(function(){var t=e.player.duration();n<t&&e.player.currentTime(n)})),a&&a(H,e.player)}))}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this,t=this.props.intl;return n.a.createElement("div",{"aria-label":t.formatMessage(Ve.aria),className:"video-wrapper",id:H},n.a.createElement("div",{"data-vjs-player":!0},n.a.createElement("video",{className:"video-js",playsInline:!0,preload:"auto",ref:function(t){return e.node=t}})))}}]),a}(r.PureComponent),Ye=(a(87),function(){return n.a.createElement("div",{className:"bottom-bar"})}),qe=Object(d.c)({about:{id:"button.about.aria",description:"Aria label for the about button"},section:{id:"button.section.aria",description:"Aria label for the section button"},search:{id:"button.search.aria",description:"Aria label for the search button"},swap:{id:"button.swap.aria",description:"Aria label for the swap button"}}),Xe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"renderSearchButton",value:function(e){if(!e)return null;var t=this.props,a=t.intl,r=t.toggleSearch;return n.a.createElement(ke,{aria:a.formatMessage(qe.search),circle:!0,handleOnClick:r,icon:"search"})}},{key:"renderSectionButton",value:function(e){if(!e)return null;var t=this.props,a=t.intl,r=t.section,i=t.toggleSection;return n.a.createElement(ke,{aria:a.formatMessage(qe.section),circle:!0,handleOnClick:i,icon:r?"arrow-left":"arrow-right"})}},{key:"renderSwapButton",value:function(e){if(!e)return null;var t=this.props,a=t.intl,r=t.toggleSwap;return n.a.createElement(ke,{aria:a.formatMessage(qe.swap),circle:!0,handleOnClick:r,icon:"swap"})}},{key:"renderTitle",value:function(e){var t=this.props,a=t.name,r=t.start,i=n.a.createElement(d.a,{value:new Date(r)});if(e){var s=this.props,o=s.intl,l=s.toggleAbout;return n.a.createElement("span",{aria:o.formatMessage(qe.about),className:be()("title",{interactive:e}),onClick:l,onKeyPress:function(e){return"Enter"===e.key?l():null},tabIndex:"0"},a," - ",i)}return n.a.createElement("span",{className:"title"},a," - ",i)}},{key:"render",value:function(){var e=this.props,t=e.content,a=e.control,r=m.controls.about,i=m.controls.search,s=m.controls.section,o=m.controls.swap,l=t.presentation,c=t.screenshare,u=!l&&!c;return n.a.createElement("div",{className:"top-bar"},n.a.createElement("div",{className:"left"},this.renderSectionButton(a&&s)),n.a.createElement("div",{className:"center"},this.renderTitle(a&&r)),n.a.createElement("div",{className:"right"},this.renderSearchButton(a&&i&&!u),this.renderSwapButton(a&&o&&!u)))}}]),a}(r.PureComponent),Ge=a(108),et=function(e){if(!e)return{};var t=e.$;return t||{}},tt=function(e){if(!e)return[];var t=e.$$;return t||[]},at=function(e){if(!e)return-1;var t=e.match(/\d+$/);return t&&0!==t.length?parseInt(t.shift(),10):-1},rt=function(e){if(!e)return[];var t=e.trim().replace(/  +/g," ");return 0===t.length?[]:t.split(" ").map((function(e){return parseFloat(e)}))},nt=function(e){var t=[];return e&&(t=e.map((function(e){var t=et(e),a=at(t.id);return{draws:e.g.map((function(e){var t=et(e),a=parseFloat(t.timestamp),r=parseFloat(t.undo),n=function(e){var t=e.split(";"),a={};return t.forEach((function(e){var t=e.trim();if(0!==t.length){var r=t.split(":").map((function(e){return e.trim()}));"visibility"!==r[0]&&(a[r[0]]=r[1])}})),a}(t.style),i=at(t.shape),s={};if(e.rect&&e.image){s.type="poll";var o=et(e.rect.shift()),l=et(e.image.shift());s.data=Object.assign({rect:o},{image:l})}else if(e.polyline)s.type="polyline",s.data=Object.assign({},et(e.polyline.shift()));else if(e.line)s.type="line",s.data=Object.assign({},et(e.line.shift()));else if(e.polygon)s.type="polygon",s.data=Object.assign({},et(e.polygon.shift()));else if(e.circle)s.type="circle",s.data=Object.assign({},et(e.circle.shift()));else if(e.path)s.type="path",s.data=Object.assign({},et(e.path.shift()));else if(e.switch){s.type="text";var c=e.switch.shift().foreignObject.shift(),u=function(e){var t="",a=tt(e);if(!ie(a)){var r=a.shift(),n=tt(r);ie(n)||(t=n.map((function(e){return"br"===e["#name"]?"\r":e._})).join(""))}return t}(c);s.data=Object.assign({text:u},et(c))}return{clear:r,id:i,shape:s,style:n,timestamp:a}})),id:a}}))),t},it=function(e){var t={},a=e.svg;if(a){var r=a.image,n=a.g;t.slides=function(e){var t=[];return e&&(e.forEach((function(e){var a=et(e),r=a["xlink:href"];if(r){var n=at(a.id);rt(a.in).forEach((function(e){t.push({id:n,height:parseInt(a.height),src:r,timestamp:e,width:parseInt(a.width)})}))}})),t=t.sort((function(e,t){return e.timestamp-t.timestamp}))),t}(r),t.thumbnails=t.slides.reduce((function(e,t){var a=t.id,r=t.src,n=t.timestamp;return r.includes("deskshare")?e.push({id:a,src:"deskshare",timestamp:n}):e.push({id:a,src:r.replace("slide-","thumbnails/thumb-"),timestamp:n}),e}),[]),t.canvases=nt(n)}return t},st=function(e,t){return new Promise((function(a,r){var n,i=Y(e);if("json"===i){switch(e){case m.files.data.alternates:n=function(e){if(!e)return[];var t=[];for(var a in e)if(te(e,a)){var r=e[a];for(var n in r)if(te(r,n)){var i=r[n];t.push({src:"presentation/".concat(a,"/").concat(n,".png"),text:i})}}return t}(t);break;case m.files.data.captions:n=function(e){if(!e)return[];return e}(t);break;case m.files.data.talkers:n=[];break;default:k.debug("unhandled","json",e),r(e)}a(n)}else if("html"===i){switch(e){case m.files.data.notes:n=function(e){if(!e)return"";var t=e.match(/<body>\n.*\n<\/body>/g),a="";return ie(t)||(a=t.shift()),a}(t);break;default:k.debug("unhandled","html",e),r(e)}a(n)}else{if(!t)return k.warn("missing",e),a(null);var s=function(e){var t={};switch(e){case m.files.data.shapes:t={explicitChildren:!0,preserveChildrenOrder:!0,charsAsChildren:!0}}return t}(e);Object(Ge.parseStringPromise)(t,s).then((function(t){switch(e){case m.files.data.chat:n=function(e){var t=e.popcorn,a=[];te(t,"chattimeline")&&(a=t.chattimeline.map((function(e){var t=et(e),a=t.out?parseFloat(t.out):-1,r=function(e){return e.replace(/&(quot|#34);/g,'"').replace(/&(amp|#38);/g,"&").replace(/&(apos|#39);/g,"'").replace(/&(lt|#60);/g,"<").replace(/&(gt|#62);/g,">")}(function(e){return e.replace(/<a href="(.*)" rel="nofollow"><u>\1<\/u><\/a>/g,"$1")}(t.message)),n=function(e){var t;return e&&(t=e.slice(0,2).toLowerCase().trim()),t}(t.name);return{clear:a,hyperlink:r!==t.message,initials:n,name:t.name,message:r,timestamp:parseFloat(t.in)}})));return a}(t);break;case m.files.data.cursor:n=function(e){var t=[],a=e.recording;return te(a,"event")&&(t=a.event.map((function(e){var t=et(e),a=rt(e.cursor.shift());return{timestamp:parseFloat(t.timestamp),x:a.shift(),y:a.shift()}}))),t}(t);break;case m.files.data.metadata:n=function(e){var t={},a=e.recording;if(te(a,"meeting")){var r=et(a.meeting.shift()),n=r.id,i=a.meta.shift();t={end:parseInt(a.end_time.shift(),10),id:n,name:i.name?i.name.shift():r.name,participants:parseInt(a.participants.shift(),10),start:parseInt(a.start_time.shift(),10)}}return t}(t);break;case m.files.data.panzooms:n=function(e){var t=[],a=e.recording;return te(a,"event")&&(t=a.event.map((function(e){var t=et(e),a=rt(e.viewBox.shift());return{timestamp:parseFloat(t.timestamp),x:a.shift(),y:a.shift(),width:a.shift(),height:a.shift()}}))),t}(t);break;case m.files.data.screenshare:n=function(e){var t=[],a=e.recording;return te(a,"event")&&(t=a.event.map((function(e){var t=et(e);return{timestamp:parseFloat(t.start_timestamp),clear:parseFloat(t.stop_timestamp)}}))),t}(t);break;case m.files.data.shapes:n=it(t);break;default:k.debug("unhandled","xml",e),r(e)}a(n)})).catch((function(e){return r(e)}))}}))},ot=function(){function e(t){Object(l.a)(this,e),this.enabled=m.monitor.enabled,this.id=t,this.interval=1e3*m.monitor.interval,this.url=m.monitor.url}return Object(c.a)(e,[{key:"buildBody",value:function(e){return JSON.stringify(Object.assign({id:this.id},e))}},{key:"collect",value:function(e){var t=this;if(!this.enabled)return null;setInterval((function(){var a=e();k.debug("monitor",a),t.send(a)}),this.interval)}},{key:"send",value:function(e){fetch(this.url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:this.buildBody(e)})}}]),e}(),lt=function(){function e(t){Object(l.a)(this,e),this.enabled=m.shortcuts.enabled,this.enabled?this.init(t):k.debug("shortcuts","disabled")}return Object(c.a)(e,[{key:"init",value:function(e){for(var t in this.listeners=[],e){var a=e[t];if("function"===typeof a){var r=m.shortcuts[t];this.add(r,a)}else for(var n in a){var i=m.shortcuts[t][n],s=a[n];this.add(i,s)}}}},{key:"add",value:function(e,t){if(!e||"string"!==typeof e)return k.warn("shortcuts","invalid","key"),null;if(0===e.length)return null;if(!t||"function"!==typeof t)return k.warn("shortcuts","invalid","action"),null;var a=document.addEventListener("keydown",(function(a){a.altKey&&a.shiftKey&&a.key===e&&t()}));this.listeners.push(a)}},{key:"destroy",value:function(){this.listeners.forEach((function(e){document.removeEventListener(e)}))}}]),e}(),ct=["canplay","seeking","waiting"],ut=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","interruptbegin","interruptend","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","volumechange","waiting"],pt=function(){function e(t,a){Object(l.a)(this,e),this.primary=t,this.secondary=a,this.status={primary:"waiting",secondary:"waiting"},this.synching=!1,this.init()}return Object(c.a)(e,[{key:"init",value:function(){var e=this;ct.forEach((function(t){e.primary.on(t,(function(){return e.status.primary=t})),e.secondary.on(t,(function(){return e.status.secondary=t}))})),this.primary.on("play",(function(){return e.secondary.play()})),this.primary.on("pause",(function(){return e.secondary.pause()})),this.primary.on("seeking",(function(){var t=e.primary.currentTime();e.secondary.currentTime(t)})),this.primary.on("ratechange",(function(){var t=e.primary.playbackRate();e.secondary.playbackRate(t)})),this.primary.on("waiting",(function(){e.synching||"canplay"!==e.status.secondary||(e.synching=!0,e.primary.pause())})),this.primary.on("canplay",(function(){e.synching&&(e.synching=!1,e.primary.play())})),this.secondary.on("waiting",(function(){e.synching||"canplay"!==e.status.primary||(e.synching=!0,e.primary.pause())})),this.secondary.on("canplay",(function(){e.synching&&(e.synching=!1,e.primary.play())})),ut.forEach((function(t){e.primary.on(t,(function(){return k.debug("primary ".concat(t," ").concat(e.status.primary))})),e.secondary.on(t,(function(){return k.debug("secondary ".concat(t," ").concat(e.status.secondary))}))}))}}]),e}(),dt=Object(d.c)({aria:{id:"player.wrapper.aria",description:"Aria label for the player wrapper"},fullscreen:{id:"button.fullscreen.aria",description:"Aria label for the fullscreen button"},restore:{id:"button.restore.aria",description:"Aria label for the restore button"}}),ht=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(l.a)(this,a),r=t.call(this,e);var n=e.data,i=e.layout;return r.state={application:C,control:K(i),fullscreen:!1,modal:"",search:[],section:q(i),swap:X(i),thumbnails:!0,time:0},r.player={video:null,screenshare:null},r.initData(n),r.handlePlayerReady=r.handlePlayerReady.bind(Object(ve.a)(r)),r.handleSearch=r.handleSearch.bind(Object(ve.a)(r)),r.handleTimeUpdate=r.handleTimeUpdate.bind(Object(ve.a)(r)),r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.initMonitor(),this.initShortcuts()}},{key:"componentWillUnmount",value:function(){this.shortcuts&&this.shortcuts.destroy()}},{key:"initData",value:function(e){var t,a;this.alternates=V(e,x),this.captions=V(e,S),this.chat=V(e,C),this.cursor=V(e,I),this.metadata=V(e,P),this.notes=V(e,M),this.panzooms=V(e,B),this.screenshare=V(e,_),this.shapes=V(e,F),this.talkers=V(e,L),this.canvases=this.shapes.canvases,this.slides=this.shapes.slides,this.thumbnails=(t=this.shapes.thumbnails,a=this.alternates,t.map((function(e){var t=e.src;e.alt="";var r=a.find((function(e){return t.replace("thumbnails/thumb-","slide-")===e.src}));return r&&(e.alt=r.text),e}))),this.content={captions:!ie(this.captions),chat:!ie(this.chat),notes:!ie(this.notes),presentation:ee(this.slides),screenshare:!ie(this.screenshare)},k.debug(D,e)}},{key:"handlePlayerReady",value:function(e,t){switch(e){case H:k.debug(D,"ready",H),this.player.video=t;break;case _:k.debug(D,"ready",_),this.player.screenshare=t;break;default:k.debug("unhandled",e)}this.player.video&&this.player.screenshare&&(this.synchronizer=new pt(this.player.video,this.player.screenshare))}},{key:"handleSearch",value:function(e){var t=this.state.search;oe(t,e,"array")||this.setState({search:e})}},{key:"handleTimeUpdate",value:function(e){this.state.time!==e&&this.setState({time:e})}},{key:"initMonitor",value:function(){var e=this;this.monitor=new ot(this.metadata.id),this.monitor.collect((function(){var t=e.player.video;return t?{time:t.currentTime()}:{}}))}},{key:"initShortcuts",value:function(){var e=this,t=m.shortcuts.video.seconds,a={fullscreen:function(){return e.toggleFullscreen()},section:function(){return e.toggleSection()},swap:function(){return e.toggleSwap()},thumbnails:function(){return e.toggleThumbnails()},slides:{next:function(){return de(e.player,e.slides,1)},previous:function(){return de(e.player,e.slides,-1)}},video:{backward:function(){return pe(e.player,-t)},forward:function(){return pe(e.player,+t)}}};this.shortcuts=new lt(a)}},{key:"toggleApplication",value:function(e){if(this.state.application===e)return null;this.setState({application:e})}},{key:"toggleFullscreen",value:function(){var e=this.state.fullscreen;this.setState({fullscreen:!e})}},{key:"toggleModal",value:function(e){var t=this.state.modal.length>0;this.setState({modal:t?"":e})}},{key:"toggleSection",value:function(){var e=this.state.section;this.setState({section:!e})}},{key:"toggleSwap",value:function(){var e=this.state.swap;this.setState({swap:!e})}},{key:"toggleThumbnails",value:function(){var e=this.state.thumbnails;this.setState({thumbnails:!e})}},{key:"renderFullscreenButton",value:function(e){var t=this,a=this.state,r=a.control,i=a.fullscreen,s=a.swap;if(!r||!m.controls.fullscreen)return null;var o=this.content,l=o.presentation,c=o.screenshare;if(!re(e,s||!l&&!c))return null;var u=this.props.intl,p=i?u.formatMessage(dt.restore):u.formatMessage(dt.fullscreen),d=i?"restore":"fullscreen";return n.a.createElement("div",{className:"fullscreen-button"},n.a.createElement(ke,{aria:p,handleOnClick:function(){return t.toggleFullscreen()},icon:d,type:"solid"}))}},{key:"renderModal",value:function(){var e=this,t=this.state.modal;if(!(t.length>0))return null;var a=this.props.intl;switch(t){case j:return n.a.createElement(je,{content:this.content,intl:a,metadata:this.metadata,toggleModal:function(){return e.toggleModal(j)}});case U:return n.a.createElement(He,{intl:a,handleSearch:this.handleSearch,metadata:this.metadata,thumbnails:this.thumbnails,toggleModal:function(){return e.toggleModal(U)}});default:return null}}},{key:"renderTalkers",value:function(e){var t=this.props.intl,a=this.state.swap,r=this.content,i=r.presentation,s=r.screenshare;return re(e,a||!i&&!s)?n.a.createElement(Qe,{intl:t,talkers:this.talkers}):null}},{key:"renderThumbnails",value:function(){var e=this.props.intl,t=this.state,a=t.search,r=t.time,i=this.player.video,s=Q(this.thumbnails,r);return n.a.createElement(Le,{currentDataIndex:s,handleSearch:this.handleSearch,interactive:!0,intl:e,metadata:this.metadata,player:i,search:a,thumbnails:this.thumbnails})}},{key:"renderTopBar",value:function(){var e=this,t=this.props.intl,a=this.state,r=a.control,i=a.section,s=this.metadata,o=s.name,l=s.start;return n.a.createElement(Xe,{content:this.content,control:r,intl:t,name:o,section:i,start:l,toggleAbout:function(){return e.toggleModal(j)},toggleSearch:function(){return e.toggleModal(U)},toggleSection:function(){return e.toggleSection()},toggleSwap:function(){return e.toggleSwap()}})}},{key:"renderMedia",value:function(e){var t=this.props,a=t.data,r=t.intl,i=t.time,s=this.state.swap,o=a.media;return n.a.createElement("div",{className:be()("media",{"swapped-media":s||e})},this.renderTalkers(N),this.renderFullscreenButton(N),n.a.createElement($e,{captions:this.captions,intl:r,media:o,metadata:this.metadata,onPlayerReady:this.handlePlayerReady,onTimeUpdate:this.handleTimeUpdate,time:i}))}},{key:"renderApplicationIcon",value:function(e){var t=this,a=this.state.application===e;return n.a.createElement("div",{className:be()("application-icon",{inactive:!a}),onClick:function(){return a?null:t.toggleApplication(e)}},n.a.createElement("span",{className:"icon-".concat(e)}))}},{key:"renderApplicationContent",value:function(){var e=this.props.intl;switch(this.state.application){case C:var t=this.state.time,a=this.player.video,r=Q(this.chat,t);return n.a.createElement(Ae,{chat:this.chat,currentDataIndex:r,intl:e,player:a});case M:return n.a.createElement(Me,{notes:this.notes,intl:e});default:return null}}},{key:"renderApplication",value:function(){return n.a.createElement("div",{className:"application"},n.a.createElement("div",{className:"application-control"},this.renderApplicationIcon(C),this.renderApplicationIcon(M)),this.renderApplicationContent())}},{key:"renderPresentation",value:function(e){var t=this.props.intl,a=this.state.time,r=Q(this.slides,a),i=Q(this.panzooms,a),s=Q(this.cursor,a),o=function(e,t,a){if(!G(e,t))return[];var r=t[e];if(ie(a))return[];var n=a.find((function(e){return r.id===e.id}));return n?n.draws:[]}(r,this.slides,this.canvases),l=function(e,t){var a=[];if(ie(e))return a;for(var r=0;r<e.length;r++){var n=e[r];if(te(n,"timestamp")&&te(n,"clear")){var i=n.clear,s=n.timestamp;if(!ce(t,s))break;a.push(!he(t,i))}}return a}(o,a);return n.a.createElement(Ue,{active:e,currentCursorIndex:s,currentPanzoomIndex:i,currentSlideIndex:r,cursor:this.cursor,draws:o,drawsInterval:l,intl:t,metadata:this.metadata,panzooms:this.panzooms,slides:this.slides,thumbnails:this.thumbnails})}},{key:"renderScreenshare",value:function(e){if(!this.content.screenshare)return null;var t=this.props,a=t.intl,r=t.data.media;return n.a.createElement(We,{active:e,intl:a,media:r,metadata:this.metadata,onPlayerReady:this.handlePlayerReady})}},{key:"renderContent",value:function(e){if(e)return null;var t=this.state,a=t.fullscreen,r=t.search,i=t.swap,s=t.thumbnails,o=t.time,l=function(e,t){var a=_,r=R;return se(e,t)?a:r}(this.screenshare,o),c=s&&!a&&(!i||!ie(r));return n.a.createElement("div",{className:be()("content",{"swapped-content":i})},this.renderTalkers(E),this.renderFullscreenButton(E),n.a.createElement("div",{className:"top-content"},this.renderPresentation(l===R),this.renderScreenshare(l===_)),n.a.createElement("div",{className:be()("bottom-content",{inactive:!c})},this.renderThumbnails()))}},{key:"renderBottomBar",value:function(){return n.a.createElement(Ye,null)}},{key:"render",value:function(){var e=this.props.intl,t=this.state,a=t.fullscreen,r=t.section,i=this.content,s=i.presentation,o=i.screenshare,l=!s&&!o,c={"fullscreen-content":a,"hidden-section":!r,"single-content":l};return n.a.createElement("div",{"aria-label":e.formatMessage(dt.aria),className:be()("player-wrapper",c),id:D},this.renderTopBar(),this.renderMedia(l),this.renderApplication(),this.renderContent(l),this.renderBottomBar(),this.renderModal())}}]),a}(r.PureComponent),mt=Object(d.c)({aria:{id:"loader.wrapper.aria",description:"Aria label for the loader wrapper"}}),ft=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(l.a)(this,a),r=t.call(this,e);var n=e.location;e.match;return r.counter=0,r.data={},r.layout=function(e){if(e){var t=e.search;if(t){var a=v.a.parse(t,{ignoreQueryPrefix:!0}).l;if(a)return a}}return null}(n),r.recordId="local",r.time=function(e){if(e){var t=e.search;if(t){var a=v.a.parse(t,{ignoreQueryPrefix:!0}).t;if(a)return ue(a)}}return null}(n),r.state={error:r.recordId?null:m.error.NOT_FOUND,loaded:!1},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(this.recordId){var e=m.files.data;for(var t in e)this.fetchFile(this.recordId,e[t]);this.fetchMedia()}}},{key:"fetchFile",value:function(e,t){var a=this,r=Z(0,t);fetch(r).then((function(e){if(!e.ok)return k.warn("loader",t,e),null;switch(k.debug(A,t,e),Y(t)){case"json":return e.json();case"html":case"svg":case"xml":return e.text();default:throw a.setState({error:m.error.BAD_REQUEST}),fe(t)}})).then((function(e){st(t,e).then((function(e){e&&k.debug(A,"builded",t),a.data[$(t)]=e,a.update()})).catch((function(e){return a.setState({error:m.error.BAD_REQUEST})}))})).catch((function(e){return a.setState({error:m.error.NOT_FOUND})}))}},{key:"fetchMedia",value:function(){var e=this,t=m.medias.map((function(t){var a=Z(e.recordId,"video/webcams.".concat(t));return fetch(a,{method:"HEAD"})}));Promise.all(t).then((function(t){var a=[];t.forEach((function(e){var t=e.ok,r=e.url;t&&(k.debug(A,"media",e),a.push(m.medias.find((function(e){return r.endsWith(e)}))))})),a.length>0?(e.data.media=a,e.update()):e.setState({error:m.error.NOT_FOUND})}))}},{key:"update",value:function(){(this.counter=this.counter+1,this.counter>Object.keys(m.files.data).length)&&(this.state.loaded||this.setState({loaded:!0}))}},{key:"render",value:function(){var e=this.props.intl,t=this.state,a=t.error,r=t.loaded;return a?n.a.createElement(fe,{code:a,intl:e}):r?n.a.createElement(ht,{data:this.data,intl:e,layout:this.layout,time:this.time}):n.a.createElement("div",{"aria-label":e.formatMessage(mt.aria),className:"loader-wrapper",id:A},n.a.createElement("div",{className:"loading-dots"},n.a.createElement("div",{className:"first"}),n.a.createElement("div",{className:"second"}),n.a.createElement("div",{className:"third"})))}}]),a}(r.PureComponent),vt=Object(h.c)(ft),yt=(a(109),a(16),{ar:a(110),de:a(111),en:a(112),es:a(113),fr:a(114),it:a(115),ja:a(116),pt:a(117),ru:a(118)}),bt=["ar"],gt=(a(186),function(){var e=navigator.language.split(/[-_]/)[0];return function(e){bt.includes(e)?document.body.parentNode.setAttribute("dir","rtl"):document.body.parentNode.setAttribute("dir","ltr")}(e),yt[e]?e:"en"}()),wt=yt,kt=function(){var e=new URLSearchParams(window.location.search),t=m.styles,a=t.url,r=t.default?"".concat(a,"/").concat(t.default,".css"):null;if(e&&e.has("s")){var n=t.valid,i=e.get("s");n.includes(i)&&(r="".concat(a,"/").concat(i,".css"))}return r}();s.a.render(n.a.createElement(o.a,{locale:gt,messages:wt[gt]},kt?n.a.createElement("link",{rel:"stylesheet",type:"text/css",href:kt}):null,n.a.createElement(vt,null)),document.getElementById("root"))},40:function(e,t,a){},5:function(e){e.exports=JSON.parse('{"chat":{"align":"bottom","scroll":true},"controls":{"about":true,"fullscreen":true,"search":true,"section":true,"swap":true,"thumbnails":true},"error":{"BAD_REQUEST":400,"UNAUTHORIZED":401,"PAYMENT_REQUIRED":402,"FORBIDDEN":403,"NOT_FOUND":404,"METHOD_NOT_ALLOWED":405,"NOT_ACCEPTABLE":406,"PROXY_AUTHENTICATION_REQUIRED":407,"REQUEST_TIMEOUT":408,"CONFLICT":409,"GONE":410},"files":{"data":{"alternates":"presentation_text.json","captions":"captions.json","chat":"slides_new.xml","cursor":"cursor.xml","metadata":"metadata.xml","notes":"notes.html","panzooms":"panzooms.xml","screenshare":"deskshare.xml","shapes":"shapes.svg","talkers":"talkers.json"}},"medias":["mp4","webm"],"monitor":{"enabled":false,"interval":60,"url":"/monitor"},"search":{"length":{"min":3,"max":32}},"shortcuts":{"enabled":true,"fullscreen":"K","section":"L","slides":{"next":"ArrowUp","previous":"ArrowDown"},"swap":"M","thumbnails":"N","video":{"backward":"ArrowLeft","forward":"ArrowRight","seconds":15}},"styles":{"default":null,"url":"HOST","valid":[]},"thumbnails":{"align":"center","scroll":true},"video":{"fps":10,"rates":[0.5,0.6,0.7,0.8,0.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.1,2.2,2.3,2.4,2.5]}}')},51:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.f044a990.chunk.js.map